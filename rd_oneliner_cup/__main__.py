while True: import random;from collections import Counter;validation = lambda x: ((x.isnumeric() and (len(x) == 4)) or x == "q" or print("Invalid input; should have 4 digits or 'q'")); number, flag, *args = str(random.randint(1000, 9999)), False, print("Number is set! Try to guess it"), (func := (x for x in iter(lambda: input("Enter a number (q for quit): "), "q") if validation(x))); [print(f"{i}, {guess=}: {(bulls := sum([guess[i] == number[i] for i in range(4)]))} bulls, {sum((Counter(number) & Counter(guess)).values()) - bulls} cows") for i, guess in enumerate(iter(lambda: print("You win!") if flag else next(func), None)) if not (flag := (flag := locals().get("flag", False)) or not guess != number)];exit() if input("Wanna play again? (y/n): ").lower() != "y" else None;
