[exit() if input("Wanna play again? (y/n): ").lower()!="y" else None for _ in iter(lambda: '', None) if (exec("import random;from collections import Counter;",globals()),number:=str(random.randint(1000, 9999)),flag:=False,print("Number is set! Try to guess it"),[print(f"{i}, {guess=}: {(bulls := sum([guess[i] == number[i] for i in range(4)]))} bulls, {sum((Counter(number) & Counter(guess)).values()) - bulls} cows") for i, guess in enumerate(iter(lambda: print("You win!") if flag else next(((x for x in iter(lambda: input("Enter a number (q for quit): "), "q") if((x.isnumeric() and (len(x) == 4))or x=="q" or print("Invalid input; should have 4 digits or 'q'"))))), None)) if not (flag := (flag := locals().get("flag", False)) or not guess != number)]) or True]
